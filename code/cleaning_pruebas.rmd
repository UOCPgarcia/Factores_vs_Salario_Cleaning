---
title: "Limpieza y análisis de datos"
author: "Adrià Cortés Andrés - MPilar García Ruiz"
date: "14/12/2021"
output:
  html_document:
    toc: yes
    toc_depth: '4'
    df_print: paged
lang: es-ES
---

## 0.- Preliminares

#### Paquetes utilizados
Se cargan fuera del rmarkdown, por problemas al ejecutar Knit.
La instalación de una librería seguiría los siguientes pasos
1) install.packages('dplyr')
2) library ('dplyr')

Paquetes utilizados
* dplyr (manejo de dataframes)


#### Directorio por defecto

```{r warning=FALSE}

setwd('C:/Users/MPilar/Documents/GitHub/Factores_vs_Salario_Cleaning/code')

```
    
#### Lectura del fichero    
    
```{r}
datos_ini <- read.csv ("C:/Users/MPilar/Documents/GitHub/Factores_vs_Salario_Cleaning/data/adult_data.csv", 
                   sep = ",", 
                   stringsAsFactors = TRUE)

```
    
#### Dimensión del conjunto de datos    
    
```{r}
dim (datos_ini)
```
    
#### Características de las variables leídas    
    
```{r}
str (datos_ini)
```

#### Se eliminan las variables que bajo nuestro punto de vista no aportan información para nuestro estudio     
    
```{r}
datos <- select (datos_ini, 
                 -fnlwgt, 
                 -capital.gain,
                 -capital.loss)

```

#### Inclusión de una variable secuencial como identificador único de cada fila. Reordenación de columnas.    
    
```{r}
filas <- nrow (datos)

datos <- cbind (datos, 'id' = 1:filas)

names (datos)

datos <- subset (datos,
                 select = c(13,
                            1,
                            2,
                            3,
                            4,
                            5,
                            6,
                            7,
                            8,
                            9,
                            10,
                            11,
                            12))

names (datos)

```

    
#### La segmentación por rangos de edad te permite establecer nichos más concretos y a profundizar en el estudio.     

Establecimiento de categorías de edad para el estudio de empleabilidad vs salario en escalas    
* 0 a 16 años, cat_0    
* 17 a 20, cat_1    
* 21 a 34, cat_2    
* 35 a 45, cat_3    
* 46 a 65, cat_4    
* 65 ~, cat_5    

Fuente https://www.redalyc.org/journal/706/70666127005/html/    
    
```{r}
datos <- cbind (datos,
                age_cat = cut (datos$age,
                               breaks = c(0,
                                          16,
                                          20,
                                          34,
                                          45,
                                          65,
                                          150),
                               labels = c("cat_0",
                                          "cat_1",
                                          "cat_2",
                                          "cat_3",
                                          "cat_4",
                                          "cat_5"),
                               right = TRUE
                               ))
```




